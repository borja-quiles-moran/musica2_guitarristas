<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Guitarristas Wrapped - Top 15</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;400;600;700&display=swap');
        
        :root {
            --gold: #d4af37;
            --dark-gold: #9d7f1f;
            --bg-black: #0a0a0a;
            --bg-deep: #1a1a1a;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-black);
            color: white;
            overflow: hidden;
            margin: 0;
            height: 100vh;
            width: 100vw;
            touch-action: none;
        }

        .playfair { font-family: 'Playfair Display', serif; }

        .slide {
            display: none;
            height: 100vh;
            width: 100vw;
            padding: 1.5rem;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: absolute;
            top: 0;
            left: 0;
            background-size: cover;
            background-position: center;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .slide.active { 
            display: flex; 
            z-index: 10;
        }

        .slide-in-right { animation: slideInRight 0.5s forwards; }
        .slide-in-left { animation: slideInLeft 0.5s forwards; }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        .overlay {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(10,10,10,0.6), rgba(10,10,10,0.95));
            z-index: 1;
        }

        .content {
            position: relative;
            z-index: 2;
            width: 100%;
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: center;
        }

        .nav-container {
            position: fixed;
            bottom: 2.5rem;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 1.5rem;
            z-index: 100;
        }

        .btn-nav {
            background: rgba(212, 175, 55, 0.15);
            backdrop-filter: blur(10px);
            color: var(--gold);
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(212, 175, 55, 0.3);
            transition: all 0.3s;
        }

        .btn-nav:hover {
            background: rgba(212, 175, 55, 0.3);
            border-color: var(--gold);
        }

        .btn-next-main {
            background: linear-gradient(135deg, var(--gold), var(--dark-gold));
            color: black;
            font-weight: 700;
            padding: 0.9rem 2.5rem;
            border-radius: 999px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.4);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s;
        }

        .btn-next-main:hover {
            box-shadow: 0 6px 30px rgba(212, 175, 55, 0.6);
            transform: translateY(-2px);
        }

        .bar-container {
            width: 92%;
            height: 2px;
            background: rgba(255,255,255,0.05);
            position: fixed;
            top: 1rem;
            left: 4%;
            display: flex;
            gap: 3px;
            z-index: 100;
        }

        .bar {
            height: 100%;
            background: rgba(212, 175, 55, 0.2);
            flex: 1;
            border-radius: 2px;
        }

        .bar.filled { 
            background: linear-gradient(90deg, var(--dark-gold), var(--gold));
        }

        .badge-container {
            position: relative;
            width: 60vw;
            height: 60vw;
            max-width: 220px;
            max-height: 220px;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid var(--gold);
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3), 
                        inset 0 0 30px rgba(0,0,0,0.5);
        }

        .rank-display {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--gold);
            font-family: 'Playfair Display', serif;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.8);
            letter-spacing: 0.1em;
        }

        .scroll-list {
            overflow-y: auto;
            max-height: 65vh;
            padding-right: 10px;
            text-align: left;
        }

        .scroll-list::-webkit-scrollbar { width: 3px; }
        .scroll-list::-webkit-scrollbar-thumb {
            background: rgba(212, 175, 55, 0.3);
            border-radius: 10px;
        }

        /* Estilos para empates múltiples */
        .multi-badge-container {
            display: grid;
            gap: 1.5rem;
            margin: 0 auto 2rem;
            max-width: 500px;
            width: 90%;
        }

        .multi-badge-container.double {
            grid-template-columns: repeat(2, 1fr);
        }

        .multi-badge-container.triple {
            grid-template-columns: repeat(3, 1fr);
        }

        .multi-badge-container.quad {
            grid-template-columns: repeat(2, 1fr);
        }

        .mini-badge {
            position: relative;
            width: 100%;
            padding-top: 100%;
            border: 2px solid var(--gold);
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
        }

        .mini-badge-content {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mini-badge-name {
            position: absolute;
            bottom: -28px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            font-weight: 600;
            white-space: nowrap;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.9);
            letter-spacing: 0.05em;
        }

        .tied-label {
            background: linear-gradient(135deg, var(--gold), var(--dark-gold));
            color: black;
            padding: 0.4rem 1.2rem;
            border-radius: 999px;
            font-size: 0.65rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: inline-block;
            letter-spacing: 0.15em;
            text-transform: uppercase;
        }

        .ornament {
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin: 1rem auto;
        }

        .guitarist-title {
            font-size: 0.65rem;
            font-weight: 600;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 0.5rem;
                    function showSlide(index, direction) {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(s => s.classList.remove('active', 'slide-in-right', 'slide-in-left'));
            currentSlide = index;
            const activeSlide = slides[currentSlide];
            activeSlide.classList.add('active');
            if(direction === 'next') activeSlide.classList.add('slide-in-right');
            if(direction === 'prev') activeSlide.classList.add('slide-in-left');
            document.getElementById('prevBtn').style.visibility = currentSlide === 0 ? 'hidden' : 'visible';
            const nextBtn = document.getElementById('nextBtn');
            if(currentSlide === totalSlides - 1) {
                nextBtn.style.opacity = '0';
                nextBtn.style.pointerEvents = 'none';
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.pointerEvents = 'auto';
                document.getElementById('nextText').innerText = currentSlide === 0 ? 'Comenzar' : 'Siguiente';
            }
            updateProgress();
        }

        function nextSlide() { if (currentSlide < totalSlides - 1) showSlide(currentSlide + 1, 'next'); }
        function prevSlide() { if (currentSlide > 0) showSlide(currentSlide - 1, 'prev'); }

        function updateProgress() {
            const container = document.getElementById('progressBar');
            container.innerHTML = '';
            for (let i = 0; i < totalSlides; i++) {
                const bar = document.createElement('div');
                bar.className = 'bar ' + (i <= currentSlide ? 'filled' : '');
                container.appendChild(bar);
            }
        }

        document.addEventListener('touchstart', e => startX = e.touches[0].clientX);
        document.addEventListener('touchend', e => {
            const diff = startX - e.changedTouches[0].clientX;
            if (Math.abs(diff) > 50) diff > 0 ? nextSlide() : prevSlide();
        });

        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        window.onload = () => {
            buildSlides();
            showSlide(0);
            updateProgress();
        };
            /* Animaciones intro slide 1 */
        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .intro-animate > * {
            opacity: 0;
            animation: fadeUp 0.9s ease forwards;
        }

        .intro-animate > *:nth-child(1) { animation-delay: 0.2s; }
        .intro-animate > *:nth-child(2) { animation-delay: 0.4s; }
        .intro-animate > *:nth-child(3) { animation-delay: 0.6s; }
        .intro-animate > *:nth-child(4) { animation-delay: 0.8s; }
        }
    </style>
</head>
<body>
    <div id="progressBar" class="bar-container"></div>
    <div id="slides-container"></div>
    
    <div class="nav-container">
        <button id="prevBtn" onclick="prevSlide()" class="btn-nav" style="visibility: hidden;">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M11 1l-9 7 9 7z"/></svg>
        </button>
        <button id="nextBtn" onclick="nextSlide()" class="btn-next-main">
            <span id="nextText">Comenzar</span>
            <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M5 1l9 7-9 7z"/></svg>
        </button>
    </div>

    <script>
        let currentSlide = 0;
        let totalSlides = 0;
        let startX = 0;

        const guitarists = [
            { name: "Ritchie Blackmore", points: 84, img: "Imágenes/blackmore.jpg" },
            { name: "Tony Iommi", points: 82, img: "Imágenes/iommi.jpg" },
            { name: "Jimi Hendrix", points: 64, img: "Imágenes/hendrix.jpg" },
            { name: "Eddie Van Halen", points: 57, img: "Imágenes/vanhalen.jpg" },
            { name: "John Sykes", points: 42, img: "Imágenes/sykes.jpg" },
            { name: "Robert Fripp", points: 25, img: "Imágenes/fripp.jpg" },
            { name: "Stevie Ray Vaughan", points: 19, img: "Imágenes/srv.jpg" },
            { name: "K. K. Downing", points: 18, img: "Imágenes/KK.jpg" },
            { name: "Jeff Beck", points: 17, img: "Imágenes/beck.jpg" },
            { name: "Dave Murray", points: 16, img: "Imágenes/murray.jpg" },
            { name: "Alex Lifeson", points: 15, img: "Imágenes/lifeson.jpg" },
            { name: "Glenn Tipton", points: 15, img: "Imágenes/tipton.jpg" },
            { name: "Rory Gallagher", points: 15, img: "Imágenes/rory.jpg" },
            { name: "Uli Jon Roth", points: 14, img: "Imágenes/roth.jpg" },
            { name: "Brian May", points: 13, img: "Imágenes/may.jpg" },
            { name: "Jake E. Lee", points: 13, img: "Imágenes/lee.jpg" },
            { name: "Jimmy Page", points: 13, img: "Imágenes/page.jpg" },
            { name: "Michael Schenker", points: 13, img: "Imágenes/shenker.jpg" },
            { name: "Gary Moore", points: 10, img: "Imágenes/moore.jpg" },
            { name: "Randy Rhoads", points: 10, img: "https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400" },
            { name: "Angus Young", points: 7, img: "https://images.unsplash.com/photo-1511735111819-9a3f7709049c?w=400" },
            { name: "Matt Pike", points: 7, img: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400" },
            { name: "Steve Lukather", points: 7, img: "https://images.unsplash.com/photo-1498038432885-c6f3f1b912ee?w=400" },
            { name: "David Gilmour", points: 4, img: "https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=400" },
            { name: "Trey Azagthoth", points: 4, img: "https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400" },
            { name: "Bill Steer", points: 3, img: "https://images.unsplash.com/photo-1511735111819-9a3f7709049c?w=400" },
            { name: "Neal Schon", points: 3, img: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400" },
            { name: "John Norum", points: 0, img: "https://images.unsplash.com/photo-1498038432885-c6f3f1b912ee?w=400" }
        ];

        const colors = [
            'bg-neutral-950', 'bg-zinc-950', 'bg-stone-950', 'bg-slate-950',
            'bg-gray-950', 'bg-neutral-900', 'bg-zinc-900', 'bg-stone-900',
            'bg-slate-900', 'bg-gray-900', 'bg-neutral-950', 'bg-zinc-950',
            'bg-stone-950', 'bg-slate-950', 'bg-gray-950', 'bg-neutral-900'
        ];

        // Asignar ranking
        guitarists.sort((a, b) => b.points - a.points);
        let currentRank = 1;
        guitarists[0].rank = 1;
        
        for (let i = 1; i < guitarists.length; i++) {
            if (guitarists[i].points === guitarists[i-1].points) {
                guitarists[i].rank = guitarists[i-1].rank;
            } else {
                currentRank = i + 1;
                guitarists[i].rank = currentRank;
            }
        }

        // Separar top 15 y resto
        const top15 = guitarists.filter(g => g.rank <= 15);
        const rest = guitarists.filter(g => g.rank > 15);

        // Agrupar empates en el top 15
        function groupByRank(list) {
            const groups = [];
            let currentGroup = [list[0]];
            
            for (let i = 1; i < list.length; i++) {
                if (list[i].rank === list[i-1].rank) {
                    currentGroup.push(list[i]);
                } else {
                    groups.push(currentGroup);
                    currentGroup = [list[i]];
                }
            }
            groups.push(currentGroup);
            return groups;
        }

        const top15Groups = groupByRank(top15);

        function buildSlides() {
            let slidesHTML = '';

            // 1. INTRO
            slidesHTML += `
                <div class="slide bg-black">
                    <div class="content px-6">
                        <div style="font-size: 1rem; letter-spacing: 0.3em; color: var(--gold); margin-bottom: 2rem; font-weight: 300;">COJONUDA SELECCIÓN DEL</div>
                        <div class="ornament"></div>
                        <h1 class="playfair" style="font-size: 3.5rem; font-weight: 900; margin: 2rem 0; line-height: 1.2; letter-spacing: 0.02em;"> Los mejores guitarristas de la historia para los miembros de Música 2 DOS</h1>
                        <div class="ornament"></div>
                    </div>
                </div>`;

            // 2. LISTA DEL RESTO (Del #28 al #16)
            if (rest.length > 0) {
                slidesHTML += `
                    <div class="slide bg-neutral-950">
                        <div class="content px-4">
                            <h2 class="playfair text-2xl mb-1 text-center font-bold" style="color: var(--gold);">Mención de honor</h2>
                            <div class="ornament" style="width: 40px; margin: 1rem auto 2rem;"></div>
                            <div class="scroll-list" style="max-width: 600px; margin: 0 auto;">
                                ${rest.reverse().map(g => `
                                    <div class="flex justify-between items-center py-3 border-b border-white/5">
                                        <span style="font-weight: 300;"><span style="color: var(--gold); font-weight: 600; margin-right: 1rem; font-family: 'Playfair Display', serif;">#${g.rank}</span> ${g.name}</span>
                                        <span style="font-weight: 600; color: var(--gold); font-family: 'Playfair Display', serif;">${g.points}</span>
                                    </div>`).join('')}
                            </div>
                            <div class="ornament" style="margin-top: 2rem;"></div>
                        </div>
                    </div>`;
            }

            // 3. TOP 15 (del #15 al #1, invirtiendo el orden de grupos)
            top15Groups.reverse().forEach((group, groupIndex) => {
                const rank = group[0].rank;
                const points = group[0].points;
                const colorClass = colors[groupIndex % colors.length];

                if (group.length === 1) {
                    // UNA SOLA PERSONA
                    const guitarist = group[0];
                    slidesHTML += `
                        <div class="slide ${colorClass}" style="background-image: url('${guitarist.img}');">
                            <div class="overlay"></div>
                            <div class="content">
                                <div class="rank-display">#${rank}</div>
                                <div class="badge-container" style="background-image: url('${guitarist.img}');"></div>
                                <div class="guitarist-title">Puesto ${rank} · Top 15</div>
                                <h1 class="playfair" style="font-size: 2.8rem; font-weight: 700; margin-bottom: 1rem; line-height: 1.2; letter-spacing: 0.02em;">${guitarist.name}</h1>
                                <div class="ornament" style="width: 50px;"></div>
                                <div style="margin-top: 1.5rem; font-size: 0.85rem; font-weight: 600; color: var(--gold); font-family: 'Playfair Display', serif; letter-spacing: 0.1em;">${points} PUNTOS</div>
                            </div>
                        </div>`;
                } else {
                    // EMPATE MÚLTIPLE
                    const gridClass = group.length === 2 ? 'double' : group.length === 3 ? 'triple' : 'quad';
                    const tiedLabel = group.length === 2 ? 'Empate Doble' : 
                                     group.length === 3 ? 'Empate Triple' : 
                                     'Empate Cuádruple';
                    
                    slidesHTML += `
                        <div class="slide ${colorClass}">
                            <div class="overlay"></div>
                            <div class="content">
                                <div class="rank-display">#${rank}</div>
                                <div class="tied-label">${tiedLabel}</div>
                                <div class="multi-badge-container ${gridClass}">
                                    ${group.map(g => `
                                        <div style="position: relative; padding-bottom: 35px;">
                                            <div class="mini-badge" style="background-image: url('${g.img}');">
                                                <div class="mini-badge-content"></div>
                                            </div>
                                            <div class="mini-badge-name">${g.name}</div>
                                        </div>
                                    `).join('')}
                                </div>
                                <div class="guitarist-title" style="margin-top: 1rem;">Puesto ${rank} · Top 15</div>
                                <div class="ornament" style="width: 50px;"></div>
                                <div style="margin-top: 1rem; font-size: 0.85rem; font-weight: 600; color: var(--gold); font-family: 'Playfair Display', serif; letter-spacing: 0.1em;">${points} PUNTOS</div>
                            </div>
                        </div>`;
                }
            });

            // 4. RANKING COMPLETO
            slidesHTML += `
                <div class="slide bg-neutral-950">
                    <div class="content px-4">
                        <h2 class="playfair text-2xl mb-1 text-center font-bold" style="color: var(--gold);">Ranking Oficial Completo</h2>
                        <div class="ornament" style="width: 40px; margin: 1rem auto 2rem;"></div>
                        <div class="scroll-list" style="max-width: 600px; margin: 0 auto;">
                            ${guitarists.map(g => `
                                <div class="flex justify-between items-center py-3 border-b border-white/5">
                                    <span style="font-weight: ${g.rank <= 15 ? '400' : '300'};"><span style="color: var(--gold); font-weight: 600; margin-right: 1rem; font-family: 'Playfair Display', serif;">#${g.rank}</span> ${g.name}</span>
                                    <span style="font-weight: 600; color: ${g.rank <= 15 ? 'var(--gold)' : 'rgba(212, 175, 55, 0.5)'}; font-family: 'Playfair Display', serif;">${g.points}</span>
                                </div>`).join('')}
                        </div>
                    </div>
                </div>`;

            // 5. FINAL - EL CAMPEÓN
            const winner = guitarists[0];
            slidesHTML += `
                <div class="slide bg-black" style="background-image: url('${winner.img}');">
                    <div class="overlay"></div>
                    <div class="content px-6">
                        <div style="font-size: 0.8rem; letter-spacing: 0.3em; color: var(--gold); margin-bottom: 1rem; font-weight: 600;">EL PUTO AMO</div>
                        <div class="ornament"></div>
                        <div class="rank-display" style="font-size: 4rem; margin: 1.5rem 0;">#1</div>
                        <div class="badge-container" style="max-width: 200px; max-height: 200px; background-image: url('${winner.img}');"></div>
                        <h3 class="playfair" style="font-size: 3rem; font-weight: 900; margin: 1.5rem 0; line-height: 1.1; letter-spacing: 0.02em;">${winner.name}</h3>
                        <div class="ornament"></div>
                        <p style="font-size: 2rem; color: var(--gold); font-weight: 700; margin: 1.5rem 0; font-family: 'Playfair Display', serif; letter-spacing: 0.05em;">${winner.points} PUNTOS</p>
                        <p style="font-size: 0.85rem; opacity: 0.7; font-weight: 300; letter-spacing: 0.1em;">El guitarrista más votado</p>
                    </div>
                </div>`;

            document.getElementById('slides-container').innerHTML = slidesHTML;
            totalSlides = document.querySelectorAll('.slide').length;
        }

        function showSlide(index, direction) {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(s => s.classList.remove('active', 'slide-in-right', 'slide-in-left'));
            currentSlide = index;
            const activeSlide = slides[currentSlide];
            activeSlide.classList.add('active');
            if(direction === 'next') activeSlide.classList.add('slide-in-right');
            if(direction === 'prev') activeSlide.classList.add('slide-in-left');
            document.getElementById('prevBtn').style.visibility = currentSlide === 0 ? 'hidden' : 'visible';
            const nextBtn = document.getElementById('nextBtn');
            if(currentSlide === totalSlides - 1) {
                nextBtn.style.opacity = '0';
                nextBtn.style.pointerEvents = 'none';
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.pointerEvents = 'auto';
                document.getElementById('nextText').innerText = currentSlide === 0 ? 'Comenzar' : 'Siguiente';
            }
            updateProgress();
        }

        function nextSlide() { if (currentSlide < totalSlides - 1) showSlide(currentSlide + 1, 'next'); }
        function prevSlide() { if (currentSlide > 0) showSlide(currentSlide - 1, 'prev'); }

        function updateProgress() {
            const container = document.getElementById('progressBar');
            container.innerHTML = '';
            for (let i = 0; i < totalSlides; i++) {
                const bar = document.createElement('div');
                bar.className = 'bar ' + (i <= currentSlide ? 'filled' : '');
                container.appendChild(bar);
            }
        }

        document.addEventListener('touchstart', e => startX = e.touches[0].clientX);
        document.addEventListener('touchend', e => {
            const diff = startX - e.changedTouches[0].clientX;
            if (Math.abs(diff) > 50) diff > 0 ? nextSlide() : prevSlide();
        });

        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        window.onload = () => {
            buildSlides();
            showSlide(0);
            updateProgress();
        };
    </script>

</body>
</html>